# リファインツール

シーケンスにあるクリップに対し、一括で編集するツールです。左にある`≡`アイコンをクリックするとツール一覧が出ます。

(property-copy)=
## プロパティコピー
あるクリップのプロパティ値を別のクリップにコピーします。
### 使い方
1. プロパティをコピーしたいクリップを選択し、`コピー`ボタンをクリックします。
2. プロパティ一覧が表示されるので、コピーしたいプロパティをクリックし、チェックを入れます。[{kbd}`Shift`]{.win-deco}[{kbd}`Shift⇧`]{.mac-deco}を押しながらクリックすると、同じグループのプロパティに一括でチェックを入れられます。
3. ペーストしたいクリップを全て選択し、`ペースト`ボタンをクリックします。

## 自動改行
配置済みの字幕クリップに対して文字数を見て、なるべく自然な位置で改行を行います。MOGRTの字幕のみ対応しています。

### 使い方
1. [設定](#auto-newline-settings)を行います。
2. 改行したいクリップを選択するか、クリップのあるトラックをターゲットトラックに指定します。
3. `実行`ボタンを押します。

(auto-newline-settings)=
### 設定
#### 半角英数字は0.5文字としてカウントする
プロポーショナルフォントなど、半角英数字の幅が小さいときにチェックを入れると字幕が見切れるのを軽減できます。
#### 改行対象のクリップ位置にマーカーを付ける
このツールで改行されるクリップの位置にマーカーを付けます。目視での確認時にご活用ください。
#### 処理する前に改行を消す
改行を消してから1行の文字数カウントを行います。
#### 自動で改行する
このチェックを外すと改行を行いません。マーカーだけ付けて手動で改行するときや、改行を消したいだけのときは外してください。
#### 1行の文字数
1行に含まれる文字数がここで指定した文字数を超えた時に改行します。ペンマークをクリックすると選択中のクリップのソーステキストに含まれる文字数を入力します。

## トリガークリップオーバーライト
オーディオクリップの開始/終了に合わせてクリップを上書きします。発話していないとき（＝音声クリップがない時）は閉じた口のクリップにする、などの用途を想定してます。

### 使い方
1. オーディオクリップの開始に合わせて配置したいクリップをプロジェクトパネルで選択し、`トリガー：クリップの開始`の`選択中のクリップをセット`ボタンを押します。
2. オーディオクリップの終了に合わせて配置したいクリップをプロジェクトパネルで選択し、`トリガー：クリップの終了`の`選択中のクリップをセット`ボタンを押します。
3. キャラクターシーケンスに対してこの処理を行う時、立ち絵の軽量化を行なっている場合は、キャラクターの設定ファイルをプロジェクトパネルで選択し、`キャラクターの設定ファイル`の`選択中のクリップをセット`ボタンを押します。
4. `クリップをオーバーライトするトラックの選択`のセレクトボックスで処理対象のシーケンスを選びます。（キャラクターシーケンスを対象にする場合は`選択中のシーケンス`を選びます）右側のセレクトボックスで処理対象のトラック番号を指定します。
5. オーディオクリップのあるシーケンスを開き、ターゲットトラックに指定します。
6. `実行`ボタンを押します。

### 設定
`トリガー：クリップの開始`、`トリガー：クリップの終了`の右にあるアイコンは`立ち絵`のものと同様です。